title: Tournament
type: object
properties:
  id:
    type: string
  name:
    type: string
  map:
    $ref: ./map.v1.yaml
  config:
    type: object
    properties:
      timeStep:
        type: integer
      runningInClientSide:
        type: boolean
      enemySpawningDeltaTicks:
        type: integer
      credits:
        type: integer
      lifes:
        type: integer
  waves:
    type: array
    items:
      type: object
      properties:
        waveReward:
          type: integer
        extend:
          type: integer
        maxExtend:
          type: integer
        enemies:
          type: array
          items:
            type: object
            properties:
              type:
                type: string
                description: Type of the enemy
              t:
                type: integer
                description: Ticks from start of wave
  playerCount:
    type: integer
    default: 0
  phase:
    type: string
    enum:
      - commit
      - reveal
      - round
      - end
  deadline:
    type: string
    format: date-time
  totalRounds:
    type: integer
    description: Total number of rounds of the rounds phase until a winner is declared
  currentRound:
    type: integer
    description: Current round if the tournament is in the round phase
  currentOpponent:
    type: string
    description: Id of my opponent player in the current round
  winner:
    type: string
    description: Id of the winner player
  _links:
    type: object
    $ref: '#/components/schemas/links'
required:
  - id
  - name
  - playerCount
  - phase
